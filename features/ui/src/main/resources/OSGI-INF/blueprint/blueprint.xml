<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <!-- Expose our UI Extension -->
    <service id="uiExtension" interface="org.opennms.integration.api.v1.ui.UIExtension">
        <bean class="org.opennms.alec.ui.UIExtension">
            <property name="id" value="uiExtension"/>
            <property name="menuEntry" value="ALEC"/>
            <property name="resourceRoot" value="ui-ext"/>
            <property name="moduleFileName" value="uiextension.es.js"/>
        </bean>
    </service>

    <!-- Build and expose the JAX-RS annotated webhook handler.
     This will automatically mount the endpoint over the REST API. -->
    <bean id="restImpl" class="org.opennms.alec.rest.ALECRestImpl">
        <argument ref="blueprintBundleContext"/>
        <argument ref="keyValueStore"/>
    </bean>
    <service interface="org.opennms.alec.rest.ALECRest" ref="restImpl">
        <service-properties>
            <entry key="application-path" value="/rest" />
        </service-properties>
    </service>

    <!--Key-value store -->
    <reference id="keyValueStore" interface="org.opennms.integration.api.v1.distributed.KeyValueStore" availability="optional"/>

</blueprint>